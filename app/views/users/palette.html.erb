<h1>Your Personalized Color Palette</h1>
<p>Based on your <%= @undertone.capitalize %> undertone, these are the most flattering colors for you:</p>

<div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 20px;">
  <% @color_palette.each do |name, hex| %>
    <div style="display: flex; flex-direction: column; align-items: center;">
      
      <!-- Color Box with Link to Filtered Products -->
      <div style="width: 100px; height: 100px; background-color: <%= hex %>; border-radius: 8px; border: 2px solid #333; box-shadow: 2px 2px 4px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: center;">
        <%= link_to name, products_path(color: name.parameterize), style: "color: white; text-decoration: none; font-weight: bold; text-shadow: 1px 1px 2px black;" %>
      </div>

      <!-- Favorite Button -->
      <%= button_to "❤️", favorite_colors_path(name: name, hex: hex), method: :post, class: "favorite-button", form_class: "inline-form", style: "margin-top: 5px;" %>
    </div>
  <% end %>

  <!-- View Favorites Button -->
  <div style="width: 100%; margin-top: 30px;">
    <%= link_to "View Favorite Colors", favorite_colors_path, class: "btn", style: "padding: 10px 20px; background-color: #333; color: white; text-decoration: none; border-radius: 5px;" %>
  </div>
</div>
